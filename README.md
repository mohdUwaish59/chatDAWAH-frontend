# ChatLANTERN - Islamic Q&A Chatbot

An AI-powered Islamic knowledge assistant based on teachings from Muhammad Ali's "The Muslim Lantern" YouTube channel.

## Features

- ğŸ¤– AI-powered responses using HuggingFace models
- ğŸ“š Knowledge base of 1753+ Islamic teachings
- ğŸ” Semantic search with context-aware answers
- âš¡ Built with Next.js 16 and TypeScript
- ğŸ¨ Modern UI with Tailwind CSS
- ğŸš€ Deployed on Vercel

## Tech Stack

- **Frontend:** Next.js 16, React 19, TypeScript
- **Backend:** Next.js API Routes (serverless)
- **AI:** HuggingFace Inference API
- **Styling:** Tailwind CSS, Radix UI
- **Deployment:** Vercel

## Getting Started

### Prerequisites

- Node.js 20+
- pnpm (recommended) or npm
- HuggingFace API key

### Installation

1. Clone the repository:
```bash
git clone <your-repo-url>
cd chatlantern/frontend
```

2. Install dependencies:
```bash
pnpm install
```

3. Set up environment variables:
```bash
cp .env.example .env.local
```

Edit `.env.local` and add your HuggingFace API key:
```env
HUGGINGFACE_API_KEY=hf_your_token_here
HUGGINGFACE_MODEL=openai/gpt-oss-120b
```

4. Run the development server:
```bash
pnpm dev
```

5. Open [http://localhost:3000](http://localhost:3000)

## Deployment

### Deploy to Vercel (Recommended)

#### Option 1: Vercel CLI

```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
cd frontend
vercel
```

#### Option 2: GitHub Integration

1. Push your code to GitHub
2. Import project in [Vercel Dashboard](https://vercel.com/new)
3. Set environment variables:
   - `HUGGINGFACE_API_KEY`
   - `HUGGINGFACE_MODEL` (optional)
4. Deploy!

#### Option 3: GitHub Actions (Automated)

This repo includes GitHub Actions for automatic deployment.

**Setup:**

1. Get your Vercel tokens:
```bash
vercel login
vercel link
```

2. Add these secrets to your GitHub repository:
   - `VERCEL_TOKEN` - From `~/.vercel/auth.json`
   - `VERCEL_ORG_ID` - From `.vercel/project.json`
   - `VERCEL_PROJECT_ID` - From `.vercel/project.json`
   - `HUGGINGFACE_API_KEY` - Your HF token

3. Push to main branch - automatic deployment!

## Environment Variables

### Required

- `HUGGINGFACE_API_KEY` - Your HuggingFace API token
  - Get it at: https://huggingface.co/settings/tokens

### Optional

- `HUGGINGFACE_MODEL` - Model to use (default: `openai/gpt-oss-120b`)
- `NEXT_PUBLIC_API_URL` - External API URL (leave empty for Next.js API routes)

## API Endpoints

- `GET /api/health` - Health check
- `GET /api/stats` - Database statistics
- `POST /api/query` - Submit a question
- `GET /api/test` - Test endpoint

## Performance

### First Request
- **Time:** 5-10 seconds
- **Why:** Loading 1753 documents and generating embeddings
- **Status:** Normal for cold start

### Subsequent Requests
- **Time:** 2-5 seconds
- **Why:** Embeddings cached in memory
- **Status:** Optimal

### Optimization

To improve first request time, pre-compute embeddings:

```bash
npx tsx scripts/generate-embeddings.ts
```

Then update `app/api/query/route.ts` to use `data-with-embeddings.json`.

## Project Structure

```
frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/              # API routes
â”‚   â”‚   â”œâ”€â”€ query/        # Main chat endpoint
â”‚   â”‚   â”œâ”€â”€ health/       # Health check
â”‚   â”‚   â”œâ”€â”€ stats/        # Statistics
â”‚   â”‚   â””â”€â”€ test/         # Test endpoint
â”‚   â”œâ”€â”€ layout.tsx        # Root layout
â”‚   â””â”€â”€ page.tsx          # Home page
â”œâ”€â”€ components/           # React components
â”œâ”€â”€ lib/                  # Utilities
â”œâ”€â”€ data/                 # Training data
â”œâ”€â”€ scripts/              # Build scripts
â””â”€â”€ public/               # Static assets
```

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

MIT

## Disclaimer

This chatbot is trained on transcripts from Muhammad Ali's "The Muslim Lantern" YouTube channel. Muhammad Ali and The Muslim Lantern are NOT responsible for any incorrect information generated by this bot.

## Support

For issues and questions:
- Check the documentation in the repo
- Open an issue on GitHub
- Contact the developer

## Developer

**Mohammad Uwaish**

---

Built with â¤ï¸ using Next.js and HuggingFace
